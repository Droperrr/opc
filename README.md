# 🚀 OPC - Optimized Production Code

**Торговая система для разработки и тестирования MVP стратегий на криптовалютных фьючерсах**

## 📋 Описание

OPC - это система для разработки, тестирования и оптимизации торговых стратегий на криптовалютных фьючерсах. Основной фокус проекта - реализация и бэктестинг MVP (Minimum Viable Product) стратегии, основанной на анализе базиса (разница между фьючерсной и спотовой ценой) и технических индикаторах.

## ✨ Ключевые возможности

- 🔄 **Сбор данных** - ETL-пайплайны для сбора и обработки рыночных данных
- 📊 **Feature Engineering** - Построение признаков для анализа и моделей
- 🎯 **Генерация сигналов** - Алгоритмы для генерации торговых сигналов на основе свечей и индикаторов
- 🔬 **Бэктестинг** - Мощный движок для тестирования стратегий на исторических данных
- 🧠 **Оптимизация** - Инструменты для оптимизации параметров стратегий (Bayesian Optimization)
- 📈 **Анализ результатов** - Подробный анализ эффективности стратегий

## 🏗️ Архитектура

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Data Sources  │    │  Signal Gen     │    │   Backtesting   │
│                 │    │                 │    │                 │
│ • Deribit API   │───▶│ • Feature Build │───▶│ • Performance   │
│ • Historical    │    │ • Signal Gen    │    │ • Risk Metrics  │
│ • CSV/Parquet   │    │ • Optimization  │    │ • Optimization  │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Database      │    │  Main Pipeline  │    │   Analysis      │
│                 │    │                 │    │                 │
│ • SQLite DB     │    │ • Orchestration │    │ • Reports       │
│ • Data Storage  │    │ • Component Mgmt│    │ • Visualizations│
│ • Caching       │    │ • Workflow      │    │ • Insights      │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

## 🚀 Быстрый старт

### 1. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 2. Запуск ETL для сбора данных

```bash
python etl_basis.py
```

### 3. Построение признаков

```bash
python feature_builder.py
```

### 4. Генерация сигналов

```bash
python candle_signal_generator.py
```

### 5. Оптимизация параметров

```bash
python optimizer.py
```

### 6. Запуск бэктеста

```bash
python run_robust_strategy_backtest.py
```

### 7. Анализ результатов

Откройте файл `analysis_pro_strategy.md` для просмотра результатов бэктеста.

## 📁 Структура проекта

### 🔧 Основные компоненты
- `etl_basis.py` - ETL-пайплайн для данных базиса
- `feature_builder.py` - Построение признаков
- `candle_signal_generator.py` - Генерация сигналов на основе свечей
- `optimizer.py` - Оптимизация параметров стратегии
- `run_robust_strategy_backtest.py` - Запуск бэктеста MVP стратегии
- `analysis_pro_strategy.md` - Анализ результатов бэктеста

### 📊 Сбор данных
- `deribit_trades_collector.py` - Сбор исторических сделок с Deribit
- `database.py` - Работа с базой данных
- `deribit_historical_trades/` - Директория с историческими данными

### 🔬 Бэктестинг
- `advanced_backtest_system.py` - Продвинутая система бэктестинга
- `walk_forward_pseudocode.md` - Псевдокод для walk-forward анализа

### 🧠 Оптимизация
- `optimizer.py` - Основной оптимизатор
- `temp_param_grid.py` - Сетка параметров для оптимизации

### 📈 Анализ
- `analysis_pro_strategy.md` - Основной отчет по стратегии
- `analysis_sma20.md` - Анализ SMA20 стратегии
- `comparative_analysis_sma20.md` - Сравнительный анализ

## 🔧 Конфигурация

### Переменные окружения

Создайте файл `.env` в корне проекта (при необходимости):

```env
# API Configuration (если используются API)
DERIBIT_API_KEY=your_api_key
DERIBIT_API_SECRET=your_api_secret

# Database Configuration
DB_PATH=data/market_data.db

# Logging Configuration
LOG_LEVEL=INFO
```

## 🧪 Тестирование

На данный момент проект фокусируется на разработке и бэктестинге стратегий. Модульные тесты могут быть добавлены позже.

## 📈 Производительность

Проект оптимизирован для работы с большими объемами исторических данных и проведения множественных итераций бэктестинга.

## 🛠️ Технические требования

- **Python**: 3.8+
- **База данных**: SQLite (встроенная)
- **Память**: Минимум 4GB RAM (для обработки больших данных)
- **Диск**: 20GB+ свободного места (для хранения исторических данных)
- **Сеть**: Стабильное интернет-соединение (для загрузки данных)

## 📝 Лицензия

Проект разработан для внутреннего использования. Все права защищены.

## 🤝 Поддержка

Для получения поддержки обращайтесь к команде разработки.

---

**Версия**: 1.1.0  
**Дата**: 2025-09-17  
**Статус**: MVP Development
