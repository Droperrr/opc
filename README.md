# üéØ –û—Ç—á–µ—Ç –ø–æ –ó–∞–¥–∞—á–µ 8: –û–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (IV + Skew + OI)

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### 1. –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `enrich_options.py`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –°–±–æ—Ä –∏ –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ü–∏–æ–Ω–æ–≤ SOL —Å IV, Skew –∏ OI
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: `data/options_enriched.db` —Å —Ç–∞–±–ª–∏—Ü–µ–π `options_enriched`
- **CSV —Ñ–∞–π–ª**: `options_enriched.csv` —Å –æ–±–æ–≥–∞—â–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### 2. –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `compute_skew_oi.py`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ IV –∏ OI –ø–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞–º (1m, 15m, 1h)
- **–¢–∞–±–ª–∏—Ü—ã**: `iv_agg_1m`, `iv_agg_15m`, `iv_agg_1h`
- **CSV —Ñ–∞–π–ª**: `iv_aggregates_sample.csv` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤

### 3. –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `trend_signals.py`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤
- **–¢–∞–±–ª–∏—Ü—ã**: `trend_signals_15m`, `trend_signals_1h`
- **CSV —Ñ–∞–π–ª**: `trend_signals.csv` —Å —Ç—Ä–µ–Ω–¥–æ–≤—ã–º–∏ —Å–∏–≥–Ω–∞–ª–∞–º–∏

### 4. –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `entry_generator.py`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–Ω—É—Ç–Ω—ã—Ö —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã—Ö —Å —Ç—Ä–µ–Ω–¥–æ–º
- **CSV —Ñ–∞–π–ª**: `entry_points.csv` —Å —Ç–æ—á–∫–∞–º–∏ –≤—Ö–æ–¥–∞

### 5. –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `mini_backtest.py`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –ë–∞–∑–æ–≤—ã–π –±—ç–∫—Ç–µ—Å—Ç —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞
- **CSV —Ñ–∞–π–ª**: `entry_points_backtest.csv` —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
- **–û—Ç—á–µ—Ç**: `backtest_summary.txt` —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–æ–≥–∞—â–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π**: 30
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –¥–∞—Ç**: 1
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–π–∫–æ–≤**: 10
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–π**: 1
- **–°—Ä–µ–¥–Ω—è—è IV**: 0.9827
- **–°—Ä–µ–¥–Ω–∏–π Skew**: 0.0014
- **–°—Ä–µ–¥–Ω–∏–π OI**: 0.0 (–Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ API)

### –ü—Ä–∏–º–µ—Ä—ã –æ–±–æ–≥–∞—â–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```
timestamp,symbol,strike,expiry,mark_iv,skew,open_interest,underlying_price,option_type
2025-09-03T07:30:50,SOL-26SEP25-360-P-USDT,360.0,26SEP25,1.1193,0.0,0.0,211.29,P
2025-09-03T07:30:52,SOL-26SEP25-360-C-USDT,360.0,26SEP25,1.1193,0.0,0.0,211.23,C
```

### –ü—Ä–∏–º–µ—Ä—ã –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ IV –∏ OI
```
timestamp,underlying_price,samples,skew,iv_mean_all,timeframe,iv_call_mean,iv_put_mean,oi_call_total,oi_put_total,oi_ratio,skew_percentile
2025-09-03T07:30:00,211.28,5,-0.0338,0.9821,1m,1.0024,0.9686,0.0,0.0,0.5,0.25
2025-09-03T07:31:00,211.37,5,0.0638,1.0304,1m,1.0049,1.0687,0.0,0.0,0.5,1.00
```

### –ü—Ä–∏–º–µ—Ä—ã —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
```
timestamp,timeframe,direction,confidence,reason,iv_call_mean,iv_put_mean,skew,oi_ratio,iv_momentum
2025-09-03T07:30:00,15m,SELL,0.5,put>call by 0.1%,0.9820,0.9834,0.0014,0.5,
```

### –ü—Ä–∏–º–µ—Ä—ã —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞
```
timestamp,direction,timeframe,confidence,reason,underlying_price,iv_spike,skew,trend_direction,trend_confidence
2025-09-03T07:34:00,SELL,1m,0.42,IV spike -3.4% + SELL trend,211.01,-3.42,-0.0003,SELL,0.5
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—ç–∫—Ç–µ—Å—Ç–∞
```
=== –†–µ–∑—é–º–µ –±—ç–∫—Ç–µ—Å—Ç–∞ ===
–í—Å–µ–≥–æ —Å–¥–µ–ª–æ–∫: 1
BUY —Å–¥–µ–ª–æ–∫: 0
SELL —Å–¥–µ–ª–æ–∫: 1

--- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º ---
target_1pct:
  –°—Ä–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 1.00%
  –°—É–º–º–∞—Ä–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 1.00%
  Winrate: 100.0%

target_2pct:
  –°—Ä–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 2.00%
  –°—É–º–º–∞—Ä–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 2.00%
  Winrate: 100.0%

opposite_trend:
  –°—Ä–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: -2.00%
  –°—É–º–º–∞—Ä–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: -2.00%
  Winrate: 0.0%

dynamic:
  –°—Ä–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: -0.42%
  –°—É–º–º–∞—Ä–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: -0.42%
  Winrate: 0.0%
```

## üîß –ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞

### 1. –°–±–æ—Ä –æ–±–æ–≥–∞—â–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```bash
venv\Scripts\python.exe enrich_options.py
```

### 2. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤
```bash
venv\Scripts\python.exe compute_skew_oi.py
```

### 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
```bash
venv\Scripts\python.exe trend_signals.py
```

### 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞
```bash
venv\Scripts\python.exe entry_generator.py
```

### 5. –ë–∞–∑–æ–≤—ã–π –±—ç–∫—Ç–µ—Å—Ç
```bash
venv\Scripts\python.exe mini_backtest.py
```

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- `data/options_enriched.db` - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ —Å –æ–±–æ–≥–∞—â–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### CSV —Ñ–∞–π–ª—ã
- `options_enriched.csv` - –æ–±–æ–≥–∞—â–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–ø—Ü–∏–æ–Ω–æ–≤
- `iv_aggregates_sample.csv` - –∞–≥—Ä–µ–≥–∞—Ç—ã IV –∏ OI
- `trend_signals.csv` - —Ç—Ä–µ–Ω–¥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- `entry_points.csv` - —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞
- `entry_points_backtest.csv` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—ç–∫—Ç–µ—Å—Ç–∞

### –û—Ç—á–µ—Ç—ã
- `backtest_summary.txt` - —Ä–µ–∑—é–º–µ –±—ç–∫—Ç–µ—Å—Ç–∞

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

### 1. –£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω
- –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ü–∏–æ–Ω–æ–≤ —Å IV, Skew –∏ OI
- –ê–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞–º
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞
- –ë–∞–∑–æ–≤—ã–π –±—ç–∫—Ç–µ—Å—Ç

### 2. –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- **OI –¥–∞–Ω–Ω—ã–µ**: –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ —Ç–µ–∫—É—â–∏–π API endpoint
- **–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω—ã —Ç–µ–∫—É—â–∏–º –º–æ–º–µ–Ω—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤**: –ù–µ–±–æ–ª—å—à–æ–µ –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö

### 3. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- **Skew —Ä–∞—Å—á–µ—Ç**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –ø–∞—Ä call/put
- **–ê–≥—Ä–µ–≥–∞—Ü–∏—è**: –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞–º 1m, 15m, 1h
- **–°–∏–≥–Ω–∞–ª—ã**: –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —É–ø—Ä–æ—â–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª
- **–ë—ç–∫—Ç–µ—Å—Ç**: –°–∏–º—É–ª–∏—Ä—É–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—ã—Ö–æ–¥–∞

### 4. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è
- –†–∞—Å—à–∏—Ä–∏—Ç—å —Å–±–æ—Ä –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ OI —á–µ—Ä–µ–∑ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ API
- –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –±—ç–∫—Ç–µ—Å—Ç —Å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º–∏ —Ü–µ–Ω–∞–º–∏

## ‚úÖ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞

–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:
- ‚úÖ –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å –æ–±–æ–≥–∞—â–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ä–∞—Å—á–µ—Ç Skew –∏ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ OI
- ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ç—Ä–µ–Ω–¥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- ‚úÖ –°–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω –±–∞–∑–æ–≤—ã–π –±—ç–∫—Ç–µ—Å—Ç
- ‚úÖ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã –∏ –æ—Ç—á–µ—Ç—ã
